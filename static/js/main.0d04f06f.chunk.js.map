{"version":3,"sources":["assets/background.jpg","components/List/index.js","actions/character.js","App.js","reducers/character.js","reducers/index.js","api/character.js","sagas/character.js","sagas/index.js","index.js"],"names":["module","exports","List","useState","currentPage","setCurrentPage","characters","useSelector","state","dispatch","useDispatch","lastPage","info","pages","useEffect","type","page","handleScroll","window","innerHeight","scrollY","document","body","offsetHeight","addEventListener","removeEventListener","results","map","character","Container","key","id","Span","name","Image","src","image","alt","styled","div","span","img","App","Main","main","background","initialState","isLoading","combineReducers","action","payload","error","getAllCharacters","axios","method","url","fetchInfo","actionWatcher","call","data","put","takeEvery","rootSaga","all","Character","sagaMiddleware","createSagaMiddleware","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","store","createStore","reducers","run","ReactDOM","render","getElementById"],"mappings":"gGAAAA,EAAOC,QAAU,IAA0B,wC,oLCoC5BC,EA9BF,WAAO,IAAD,EACuBC,mBAAS,GADhC,mBACRC,EADQ,KACKC,EADL,KAETC,EAAaC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,cACxCG,EAAWC,cAEXC,EAAQ,OAAGL,QAAH,IAAGA,OAAH,EAAGA,EAAYM,KAAKC,MAqBlC,OAnBAC,qBAAU,WAAOL,ECVV,CACHM,KAJsB,iBAKtBC,KDQuCZ,MAAiB,CAACK,EAAUL,IAEvEU,qBAAU,WACN,IAAMG,EAAe,WACjBZ,GAAe,SAAAD,GACX,OAAKc,OAAOC,YAAcD,OAAOE,SAAYC,SAASC,KAAKC,cAAgBnB,EAAcO,EAC9EP,EAAc,EAGlBA,MAKf,OADAc,OAAOM,iBAAiB,SAAUP,GAC3B,WACHC,OAAOO,oBAAoB,SAAUR,MAE1C,CAACN,IAEI,6BAAML,EAAWoB,QAAQC,KAAI,SAAAC,GAAS,OAAI,kBAACC,EAAD,CAAWC,IAAKF,EAAUG,IAAI,kBAACC,EAAD,KAAOJ,EAAUK,MAAY,kBAACC,EAAD,CAAOC,IAAKP,EAAUQ,MAAOC,IAAKT,EAAUK,aAMvJJ,EAAYS,IAAOC,IAAV,sEAAGD,CAAH,0EAOTN,EAAOM,IAAOE,KAAV,iEAAGF,CAAH,mEAOJJ,EAAQI,IAAOG,IAAV,kEAAGH,CAAH,iD,iBEvCII,MARf,WACE,OACE,kBAACC,EAAD,KACE,kBAAC,EAAD,QAOAA,EAAOL,IAAOM,KAAV,gEAAGN,CAAH,yBACQO,K,gBCdZC,EAAe,CACjBlC,KAAM,CACFmC,WAAW,GAEfrB,QAAS,ICHEsB,kBAAgB,CAC3B1C,WDKW,WAAgD,IAA/BE,EAA8B,uDAAtBsC,EAAcG,EAAQ,uCAC1D,OAAQA,EAAOlC,MACX,IFXsB,iBEYlB,OAAO,eAAKP,EAAZ,CAAmBI,KAAM,CAAGmC,WAAW,KAE3C,IAAK,yBACD,OAAO,eACAvC,EADP,CAEII,KAAM,CAAEmC,WAAW,EAAOlC,MAAOoC,EAAOC,QAAQtC,KAAKC,OACrDa,QAAQ,GAAD,mBAAMlB,EAAMkB,SAAZ,YAAwBuB,EAAOC,QAAQxB,YAGtD,IAAK,uBACD,OAAO,eACAlB,EADP,CAEII,KAAM,CAAGmC,WAAW,EAAOI,MAAOF,EAAOE,SAGjD,QACI,OAAO3C,M,wCE1BN4C,EAAmB,SAACpC,GAAD,OAC5BqC,IAAM,CACFC,OAAQ,MACRC,IAAI,mDAAD,OAAqDvC,M,WCFtDwC,G,WASAC,GATV,SAAUD,EAAV,8EAEyB,OAFJxC,EAArB,EAAqBA,KAArB,kBAE+B0C,aAAK,kBAAMN,EAAiBpC,MAF3D,OAGQ,OAHR,SAEgB2C,EAFhB,EAEgBA,KAFhB,SAGcC,YAAI,CAAE7C,KAAM,yBAA0BmC,QAASS,IAH7D,+BAKQ,OALR,oCAKcC,YAAI,CAAE7C,KAAM,uBAAwBoC,MAAM,EAAD,KALvD,sDASA,SAAUM,IAAV,iEACI,OADJ,SACUI,YAAU,iBAAkBL,GADtC,uCAIeC,Q,WCbUK,GAAV,SAAUA,IAAV,iEACX,OADW,SACLC,YAAI,CACNC,MAFO,uCCQf,IAAMC,EAAiBC,cAKjBC,GAHgB,kBAAXjD,QAAuBA,OAAOkD,qCAC/BlD,OAAOkD,qCAAqC,IAC5CC,KACwBC,YAAgBL,IAC5CM,EAAQC,YAAYC,EAAUN,GACpCF,EAAeS,IAAIZ,GAEnBa,IAASC,OACH,kBAAC,IAAD,CAAUL,MAAOA,GACnB,kBAAC,EAAD,OAEFlD,SAASwD,eAAe,W","file":"static/js/main.0d04f06f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/background.e50c86d1.jpg\";","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components/macro';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport {getAllCharacters} from \"../../actions/character\";\n\nconst List = () => {\n    const [currentPage, setCurrentPage] = useState(1);\n    const characters = useSelector(state => state.characters);\n    const dispatch = useDispatch();\n\n    const lastPage = characters?.info.pages;\n\n    useEffect(() => {dispatch(getAllCharacters(currentPage));}, [dispatch, currentPage]);\n\n    useEffect(() => {\n        const handleScroll = () => {\n            setCurrentPage(currentPage => {\n                if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight && currentPage < lastPage) {\n                    return currentPage + 1\n                }\n\n                return currentPage;\n            });\n        };\n\n        window.addEventListener(\"scroll\", handleScroll);\n        return () => {\n            window.removeEventListener(\"scroll\", handleScroll);\n        };\n    }, [lastPage]);\n\n    return (<div>{characters.results.map(character => <Container key={character.id}><Span>{character.name}</Span><Image src={character.image} alt={character.name}/>\n    </Container>)}</div>);\n};\n\nexport default List;\n\nconst Container = styled.div`\n    padding: 10px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n\nconst Span = styled.span`\n   font-size: 25px;\n   margin-right: 15px;\n   color: #fff;\n   font-weight: bold;\n`;\n\nconst Image = styled.img`\n    width: 100px;\n    height: 100px;\n    border-radius: 50%;\n`;","export const GET_CHARACTERS = 'GET_CHARACTERS';\n\nexport const getAllCharacters = (page) => {\n    return {\n        type: GET_CHARACTERS,\n        page\n    };\n};\n","import React from 'react';\nimport styled from 'styled-components/macro';\nimport List from \"./components/List\";\nimport background from \"./assets/background.jpg\";\n\nfunction App() {\n  return (\n    <Main>\n      <List/>\n    </Main>\n  );\n}\n\nexport default App;\n\nconst Main = styled.main`\nbackground: url(${background});\n`;\n","import { GET_CHARACTERS } from '../actions/character';\n\nconst initialState = {\n    info: {\n        isLoading: false,\n    },\n    results: []\n};\n\nexport default function reducer(state = initialState, action) {\n    switch (action.type) {\n        case GET_CHARACTERS:\n            return { ...state, info: {  isLoading: true } };\n\n        case 'GET_CHARACTERS_SUCCESS':\n            return {\n                ...state,\n                info: { isLoading: false, pages: action.payload.info.pages },\n                results: [...state.results, ...action.payload.results],\n            };\n\n        case 'GET_CHARACTERS_ERROR':\n            return {\n                ...state,\n                info: {  isLoading: false, error: action.error },\n            };\n\n        default:\n            return state;\n    }\n}\n","import { combineReducers } from 'redux';\nimport CharacterReducer from './character';\n\nexport default combineReducers({\n    characters: CharacterReducer,\n});\n","import axios from 'axios';\n\nexport const getAllCharacters = (page) =>\n    axios({\n        method: 'get',\n        url: `https://rickandmortyapi.com/api/character/?page=${page}`,\n    });","import { takeEvery, put, call } from 'redux-saga/effects';\nimport { getAllCharacters } from '../api/character';\n\nfunction* fetchInfo({page}) {\n    try {\n        const { data } = yield call(() => getAllCharacters(page));\n        yield put({ type: 'GET_CHARACTERS_SUCCESS', payload: data });\n    } catch (e) {\n        yield put({ type: 'GET_CHARACTERS_ERROR', error: e });\n    }\n}\n\nfunction* actionWatcher() {\n    yield takeEvery('GET_CHARACTERS', fetchInfo);\n}\n\nexport default actionWatcher;\n","import { all } from 'redux-saga/effects';\nimport Character from './character';\n\nexport default function* rootSaga() {\n    yield all([\n        Character(),\n    ]);\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport './index.css';\nimport App from './App';\nimport reducers from './reducers';\nimport rootSaga from './sagas';\n\n\nconst sagaMiddleware = createSagaMiddleware();\nconst composeEnhancers =\n    typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n        ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n        : compose;\nconst enhancer = composeEnhancers(applyMiddleware(sagaMiddleware));\nconst store = createStore(reducers, enhancer);\nsagaMiddleware.run(rootSaga);\n\nReactDOM.render(\n      <Provider store={store}>\n    <App />\n      </Provider>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}